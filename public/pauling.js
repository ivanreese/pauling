(function(){var a,w,x,e,t,u,r,b,o,i,p,l,F,N,s,A,h,S,c,f,d,q,R,T,C,k,g,m,y,M,v,z,I,L,P,E,H,O,W,X,Y,j,B,D,G,J,K,Q,U,V,Z,$,_,ee,te;H=Y=!(V={snow:{doSimulate:!(a=null),doRender:!0},snowbuffer:{doRender:!0,doSimulate:!0},particles:{doSimulate:!0,doRender:!0,clear:!0},arcs:{doSimulate:!0,doRender:!0,clear:!0}}),h=!1,P={},I=[],k=m=g=f=c=d=l=null,b=[],$=100,_=[],K=[],C=600,i=Q=F=z=M=y=te=S=ee=0,R=function(e,t,n,a){return b.push({a:e,b:t,dist:n,energy:a})},V.arcs.render=function(e,t,n){var a,r,o,i,l,s,u,h,c,f,d,g,m,y,M,v,p,w,x,F;if(!(0<b.length))return!1;for(h=c=b.length-1;0<=c;h=c+=-1)if(a=(r=b[h]).a,o=r.b,a.dead||o.dead)b.splice(h,1);else{for(s=.5+2*a.ageFrac,y=Math.ceil(s*r.dist/13),M=a.sx+a.r*j(a.xName,t).v,w=a.sy+a.r*j(a.yName,t).v,e.beginPath(),e.moveTo(M,w),e.globalAlpha=Math.pow(Math.min(a.deathFrac,o.deathFrac),.8),d=B(a.light,0,100,40,100,!0),e.strokeStyle="hsl("+a.hue+", 100%, "+d+"%)",e.lineWidth=B(a.radius+o.radius,2,140,1,5,!0),m=f=1,g=y;1<=g?f<=g:g<=f;m=1<=g?++f:--f)i=t-s*(u=m/y),l=t-s*(1-u),v=a.sx+a.r*j(a.xName,i).v,x=a.sy+a.r*j(a.yName,i).v,p=o.sx+o.r*j(o.xName,l).v,F=o.sy+o.r*j(o.yName,l).v,M=q(v,p,u),w=q(x,F,u),e.lineTo(M,w);e.stroke()}return!0},r=function(e){return e.style.position="absolute",e.style.top=e.style.left="0",e.style.width=e.style.height="100%"},G=function(e){return e.canvas=document.createElement("canvas"),l.appendChild(e.canvas),r(e.canvas),e.context=e.canvas.getContext("2d"),"function"==typeof e.setup?e.setup(e):void 0},X=function(){var e,t;for(e in ee=l.offsetWidth,S=l.offsetHeight,V)(t=V[e]).canvas.width=ee,t.canvas.height=S,"function"==typeof t.resize&&t.resize(t);return null},W=function(){var e,t;if(t=2<Math.abs(ee-l.offsetWidth),e=50<Math.abs(S-l.offsetHeight),t||e)return requestAnimationFrame(function(e){if(!0,X(),!H)return E()})},D=function(){return window.addEventListener("mousemove",function(e){return h=!0,y=e.clientX,M=e.clientY}),window.addEventListener("touchmove",function(e){return h=!0,y=e.touches[0].clientX,M=e.touches[0].clientY})},t=Math.PI,u=2*t,p=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),Math.min(n,Math.max(t,e))},B=function(e,t,n,a,r,o){return null==t&&(t=0),null==n&&(n=1),null==a&&(a=0),null==r&&(r=1),null==o&&(o=!1),t===n?a:(o&&(e=p(e,t,n)),e-=t,e/=n-t,e*=r-a,e+=a)},q=function(e,t,n){return(1-n)*e+n*t},T=function(e,t,n,a,r,o){return null==n&&(n=1),null==a&&(a=0),null==r&&(r=0),null==o&&(o=0),P[e]={name:e,type:"noise",radius:.02*n,cycleTime:t,phase:a*u,xOffset:.02*r,yOffset:.02*o}},j=function(e,t,n){var a,r,o,i;return null==n&&(n=J),a=(r=P[e]).phase+u*t/r.cycleTime,{x:o=Math.cos(a),y:i=Math.sin(a),v:n(r.xOffset+r.radius*o,r.yOffset+r.radius*i)}},N=function(e){return delete P[e]},w=.5*(Math.sqrt(3)-1),x=(3-Math.sqrt(3))/6,(e=function(e,t,n){this.x=e,this.y=t,this.z=n}).prototype.dot2=function(e,t){return this.x*e+this.y*t},e.prototype.dot3=function(e,t,n){return this.x*e+this.y*t+this.z*n},s=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],v=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],L=new Array(512),A=new Array(512),function(e){var t,n;for(0<e&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8),t=0;t<256;)n=void 0,n=1&t?v[t]^255&e:v[t]^e>>8&255,L[t]=L[t+256]=n,A[t]=A[t+256]=s[n%12],t++}(0),J=function(e,t){var n,a,r,o,i,l,s,u,h,c,f,d,g,m,y,M,v,p;return void 0,u=(e+t)*w,o=Math.floor(e+u),s=i=void 0,(M=t-(l=Math.floor(t+u))+(h=(o+l)*x))<(g=e-o+h)?(i=1,s=0):(i=0,s=1),m=g-i+x,v=M-s+x,y=g-1+2*x,p=M-1+2*x,n=A[(o&=255)+L[l&=255]],a=A[o+i+L[l+s]],r=A[o+1+L[l+1]],70*(((c=.5-g*g-M*M)<0?0:(c*=c)*c*n.dot2(g,M))+((f=.5-m*m-v*v)<0?0:(f*=f)*f*a.dot2(m,v))+((d=.5-y*y-p*p)<0?0:(d*=d)*d*r.dot2(y,p)))},V.particles.move=function(e,t,n,a){var r,o,i,l,s,u,h,c,f,d,g,m,y,M,v;for(F+=.01*Math.pow(k,1.7),F=p(F,1,30),s=Math.random()*F,u=B(s,1,30,.01,1,!0),v="particle"+(c=z++)+"y",T(M="particle"+c+"x",10,20,0,1e3*Math.random(),0),T(v,10,20,0,1e3*Math.random(),0),I.push(g={sx:e+(Math.random()-.5)*B(u,0,1,10,220),sy:t+(Math.random()-.5)*B(u,0,1,10,220),birth:n,maxAge:1.1,dead:!1,energy:s,energyFrac:u,xName:M,yName:v,shape:Math.floor(9*Math.pow(Math.random(),2.5)),angle:Math.random(),arcs:0,id:c,spawnCount:0}),h=f=m=I.length-3,y=I.length-1;m<=y?f<y:y<f;h=m<=y?++f:--f)0<h&&(d=I[h],i=g.sx-d.sx,l=g.sy-d.sy,o=Math.sqrt(i*i+l*l),1<(r=10*(g.energy+d.energy)/o)&&R(d,g,o,r));return null},V.particles.simulate=function(e,t){var n,a,r,o,i,l,s,u,h,c,f;if(0<I.length){for(F*=.9,o=null,l=s=I.length-1;0<=s;l=s+=-1)if(h=I[l],i=l/I.length,h.age=e-h.birth,a=h.age/h.maxAge,r=1-(h.ageFrac=a),400<I.length&&(h.maxAge-=.1*(I.length-400)/400),h.r=B(Math.pow(a,2),0,1,10,80+40*h.energyFrac),h.x=h.sx+h.r*j(h.xName,e).v,h.y=h.sy+h.r*j(h.yName,e).v,h.birthFrac=Math.min(1,5*a),h.deathFrac=Math.min(1,r/.7),n=Math.min(r,Math.sqrt(h.birthFrac)),c=Math.pow(h.energyFrac*n,.5),h.radius=70*c,h.birthFrac<1?(h.hue=B(h.birthFrac,0,1,42,20),h.sat="100",h.light="50"):(h.hue=B(i,0,1,198,284),h.sat=B(i,0,1,100,44),h.light=Math.min(100,B(i,0,1,44,55/h.deathFrac))),h.style="hsl("+h.hue+","+h.sat+"%,"+h.light+"%)",h.deathFrac<1&&h.spawnCount++%4==0&&U(h.id,h.x,h.y,h.radius/10,h.deathFrac),h.age>h.maxAge){o=l;break}if(null!=o){for(l=u=0,f=o;0<=f?u<=f:f<=u;l=0<=f?++u:--u)(h=I[l]).dead=!0,N(h.xName),N(h.yName);I.splice(0,o+1)}return null}},V.particles.render=function(e,t){var n,a,r,o,i,l,s;if(!(0<I.length))return!1;for(a=r=0,i=I.length;r<i;a=++r){if(l=I[a],a/I.length,e.beginPath(),e.fillStyle=l.style,l.shape<3)e.arc(l.x,l.y,l.radius,0,u);else for(e.moveTo(l.x+l.radius*Math.cos(u*l.angle),l.y+l.radius*Math.sin(u*l.angle)),v=o=1,s=l.shape;1<=s?o<=s:s<=o;v=1<=s?++o:--o)n=u*(l.angle+v/l.shape),e.lineTo(l.x+l.radius*Math.cos(n),l.y+l.radius*Math.sin(n));e.fill()}return!0},O=function(){if(!H)return H=!0,requestAnimationFrame(E)},o=function(e){return f=c=null,"function"==typeof e?e():void 0},E=function(e){var t,n,a,r;if(H=!1,Y&&O(),document.hidden)return o(null);if(isNaN(e))return o(O);for(a in null==d&&(d=e-16),t=Math.min(50,e-d),d=e,te+=n=.001*t,h&null!=c?(g=c-y,m=f-M,k=Math.sqrt(g*g+m*m)):(c=y,f=M,k=m=g=0),V)(r=V[a]).doSimulate&&(h&&"function"==typeof r.move&&r.move(y,M,te,n),"function"==typeof r.simulate&&r.simulate(te,n));for(a in V)(r=V[a]).doSimulate&&r.doRender&&(r.clear&&r.needsClear&&r.context.clearRect(0,0,ee,S),r.needsClear="function"==typeof r.render?r.render(r.context,te,n):void 0);return h=!1,c=y,f=M},V.snow.setup=function(e){return T("snowLight",100,40,1e3*Math.random()),T("snowHue",30,40,1e3*Math.random())},V.snow.resize=function(e){var t,n,a,r,o,i,l,s,u,h,c,f,d,g,m,y,M,v,p;for(r=0,i=_.length;r<i;r++)for(o=0,l=(m=_[r]).length;o<l;o++)g=m[o],N(g.aName),N(g.sName);for(_=[],d=Math.min(ee,S),$=Math.floor(d/10),M=Math.ceil(ee/$),p=Math.ceil(S/$),n=s=0,h=M;0<=h?s<=h:h<=s;n=0<=h?++s:--s)for(y=n*$,_[n]=[],a=u=0,c=p;0<=c?u<=c:c<=u;a=0<=c?++u:--u)f="vectors-"+y+"-"+(v=a*$)+"s",T(t="vectors-"+y+"-"+v+"a",120,25,0,8*n,a),T(f,70,30,0,8*-n,-a),_[n].push({aName:t,sName:f,x:y,y:v,initAngle:J(n/15,a/15)});return null},U=function(e,t,n,a,r){var o,i;return K.length>C&&K.splice(0,K.length-C),o=Q++,i=e/200%1,K.push({x:t+B(Math.random(),0,1,-a,+a),y:n+B(Math.random(),0,1,-a,+a),age:0,id:o,sat:B(Math.pow(.5*(Math.pow(2*i-1,3)+1),2),0,1,10,90),maxAge:3+20*Math.pow(r,3),radius:a/2})},V.snow.simulate=function(e,t){var n,a,r,o,i,l,s,u,h,c,f,d,g,m,y,M,v,p;if(0<K.length){for(y=B(t,.015,.024,900,400,!0),C=Math.round(.9*C+.1*y),l=0,u=_.length;l<u;l++)for(s=0,h=(p=_[l]).length;s<h;s++)(v=p[s]).angle=v.initAngle+j(v.aName,e).v,v.strength=.5*j(v.sName,e).v+.5;for(i=f=K.length-1;0<=f;i=f+=-1)(d=K[i]).age+=t*B(Math.pow(K.length/C,4),0,1,1,100),d.ageFrac=d.age/d.maxAge,d.ageFracInv=1-d.ageFrac,d.alpha=Math.min(d.ageFracInv,.6),d.age>d.maxAge||d.x<0||d.y<0||d.x>ee||d.y>S?K.splice(i,1):(g=d.x/$,m=d.y/$,(c=_[Math.floor(g)])&&(n=c[Math.floor(m)],a=c[Math.ceil(m)]),(M=_[Math.ceil(g)])&&(r=M[Math.floor(m)],o=M[Math.ceil(m)]),null!=n&&null!=a&&null!=r&&null!=o?(d.ox=d.x,d.oy=d.y,Z(i,t,d,n),Z(i,t,d,a),Z(i,t,d,r),Z(i,t,d,o)):K.splice(i,1));return null}},Z=function(e,t,n,a){var r,o,i,l;if(o=a.x-n.x,i=a.y-n.y,r=Math.sqrt(o*o+i*i),0<(l=a.strength*(1-r/$)))return n.x+=300*l*t*Math.cos(a.angle*u),n.y+=300*l*t*Math.sin(a.angle*u)},V.snow.render=function(e,t,n){var a,r,o,i,l,s;if(0<K.length){for(l=B(j("snowHue",t).v,-1,1,270,210),s=B(j("snowLight",t).v,-1,1,65,100),a=r=0,o=K.length;r<o;a=++r)i=K[a],e.beginPath(),e.lineWidth=(.5+i.ageFracInv)*i.radius,e.strokeStyle="hsla("+l+","+i.sat+"%,"+s+"%,"+i.alpha+")",e.moveTo(i.ox,i.oy),e.lineTo(i.x,i.y),e.stroke();return null}},V.snowbuffer.render=function(e,t,n){return 25<(i+=k/160+n)&&(i=0,e.clearRect(0,0,ee,S),e.drawImage(V.snow.canvas,0,0,ee,S),V.snow.context.clearRect(0,0,ee,S)),V.snowbuffer.canvas.style.opacity=Math.pow(B(i,0,25,1,0,!0),.8)},window.Pauling=function(e){var t,n;if(null!=l)return a;for(t in r(l=e),l.style.backgroundColor="#222",V)n=V[t],G(n);return D(),window.addEventListener("resize",W),X(),a={start:function(){Y||(Y=!0,E())},stop:function(){Y=!1}}}}).call(this);